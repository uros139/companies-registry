<h2 mat-dialog-title>Edit Company</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-dialog-content>

    <!-- Name -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" required />
      <mat-error *ngIf="form.get('name')?.hasError('required')">Name is required.</mat-error>
      <mat-error *ngIf="form.get('name')?.hasError('serverError')">
        {{ form.get('name')?.getError('serverError') }}
      </mat-error>
    </mat-form-field>

    <!-- Exchange -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Exchange</mat-label>
      <input matInput formControlName="exchange" required />
      <mat-error *ngIf="form.get('exchange')?.hasError('required')">Exchange is required.</mat-error>
      <mat-error *ngIf="form.get('exchange')?.hasError('serverError')">
        {{ form.get('exchange')?.getError('serverError') }}
      </mat-error>
    </mat-form-field>

    <!-- Ticker -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Ticker</mat-label>
      <input matInput formControlName="ticker" required />
      <mat-error *ngIf="form.get('ticker')?.hasError('required')">Ticker is required.</mat-error>
      <mat-error *ngIf="form.get('ticker')?.hasError('serverError')">
        {{ form.get('ticker')?.getError('serverError') }}
      </mat-error>
    </mat-form-field>

    <!-- ISIN -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>ISIN</mat-label>
      <input matInput formControlName="isin" required />
      <mat-error *ngIf="form.get('isin')?.hasError('required')">ISIN is required.</mat-error>
      <mat-error *ngIf="form.get('isin')?.hasError('serverError')">
        {{ form.get('isin')?.getError('serverError') }}
      </mat-error>
    </mat-form-field>

    <!-- Website -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Website</mat-label>
      <input matInput formControlName="webSite" />
      <mat-error *ngIf="form.get('webSite')?.hasError('serverError')">
        {{ form.get('webSite')?.getError('serverError') }}
      </mat-error>
    </mat-form-field>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">Cancel</button>
    <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid || isSaving">Save</button>
  </mat-dialog-actions>
</form>
